(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))i(A);new MutationObserver(A=>{for(const t of A)if(t.type==="childList")for(const C of t.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&i(C)}).observe(document,{childList:!0,subtree:!0});function o(A){const t={};return A.integrity&&(t.integrity=A.integrity),A.referrerpolicy&&(t.referrerPolicy=A.referrerpolicy),A.crossorigin==="use-credentials"?t.credentials="include":A.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(A){if(A.ep)return;A.ep=!0;const t=o(A);fetch(A.href,t)}})();const y=async(n={},e)=>{let o;if(e.startsWith("data:")){const i=e.replace(/^data:.*?base64,/,"");let A;if(typeof Buffer=="function"&&typeof Buffer.from=="function")A=Buffer.from(i,"base64");else if(typeof atob=="function"){const t=atob(i);A=new Uint8Array(t.length);for(let C=0;C<t.length;C++)A[C]=t.charCodeAt(C)}else throw new Error("Failed to decode base64-encoded data URL, Buffer and atob are not supported");o=await WebAssembly.instantiate(A,n)}else{const i=await fetch(e),A=i.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&A.startsWith("application/wasm"))o=await WebAssembly.instantiateStreaming(i,n);else{const t=await i.arrayBuffer();o=await WebAssembly.instantiate(t,n)}}return o.instance},F=n=>y(n,"data:application/wasm;base64,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");let d,u,l=100,a=100,I,s,c,B,r={x:0,y:0,down:!1,delete:!1},E={now:0,last:0,tick:0},Y="#8f00ff",K="#444444",h=!1,Q,W=(n,e,o)=>{let i=n/I,A=e/I;d[~~A*l+~~i]=o},f=(n,e,o,i)=>{B.beginPath(),B.moveTo(n,e),B.lineTo(o,i),B.stroke()},m=()=>{E.now=new Date().getTime();let n=E.now-E.then;E.then=E.now,E.tick+=n,h?r.down&&W(r.x,r.y,!r.delete):E.tick>=1e3&&(u(),E.tick=0),B.fillStyle=Y,B.strokeStyle=K,B.clearRect(0,0,window.innerWidth,window.innerHeight);for(let e=0;e<l;e++)f(e*I,0,e*I,window.innerHeight);for(let e=0;e<a;e++)f(0,e*I,window.innerWidth,e*I);for(let e=0;e<d.length;e++){let o=d[e],i=e%l*I,A=~~(e/l)*I;o&&B.fillRect(i,A,I,I)}};F({env:{consoleLog:console.log}}).then(n=>{I=window.innerWidth>window.innerHeight?window.innerWidth/l:window.innerHeight/a,window.innerWidth<window.innerHeight?l=1+window.innerWidth/I:a=1+window.innerHeight/I;let{acceptArray:e,acceptVariables:o,updateRules:i,memory:A}=n.exports;u=n.exports.runGameAlgorithm,d=new Int8Array(A.buffer,Q,l*a).fill(0),e(d.byteOffset,d.length),Q+=l*a*Int8Array.BYTES_PER_ELEMENT,o(Q),Q+=4*Int32Array.BYTES_PER_ELEMENT;let t="l2=0 m3=0 =3=1",C=new Int8Array(A.buffer,Q,t.length);C.set(new TextEncoder().encode(t)),console.log(C),i(Q,C.length),s=document.querySelector("#rules"),c=document.querySelector("#paused"),B=document.querySelector("#canvas").getContext("2d"),B.canvas.width=window.innerWidth,B.canvas.height=window.innerHeight,window.onscroll=g=>{},window.onkeydown=g=>{g.key=="Shift"&&(s.hidden=!s.hidden),g.key==" "&&(h=!0,c.hidden=!1),g.key=="x"&&(r.delete=!0)},window.onkeyup=g=>{g.key==" "&&(h=!1,c.hidden=!0),g.key=="x"&&(r.delete=!1)},s.onkeydown=g=>{if(g.code!="EnterKey")return;let w=new Int8Array(A.buffer,Q,g.value.length);w.set(new TextEncoder().encode(g.value)),i(w,w.length)},window.onmousedown=window.onmouseup=g=>{r.down=g.type=="mousedown"},window.onmousemove=g=>{r.x=g.clientX,r.y=g.clientY},E.now=new Date().getTime(),E.then=E.now-1/60,setInterval(m,60)});
