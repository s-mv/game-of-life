(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))n(A);new MutationObserver(A=>{for(const t of A)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function o(A){const t={};return A.integrity&&(t.integrity=A.integrity),A.referrerpolicy&&(t.referrerPolicy=A.referrerpolicy),A.crossorigin==="use-credentials"?t.credentials="include":A.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(A){if(A.ep)return;A.ep=!0;const t=o(A);fetch(A.href,t)}})();const E=async(i={},e)=>{let o;if(e.startsWith("data:")){const n=e.replace(/^data:.*?base64,/,"");let A;if(typeof Buffer=="function"&&typeof Buffer.from=="function")A=Buffer.from(n,"base64");else if(typeof atob=="function"){const t=atob(n);A=new Uint8Array(t.length);for(let d=0;d<t.length;d++)A[d]=t.charCodeAt(d)}else throw new Error("Failed to decode base64-encoded data URL, Buffer and atob are not supported");o=await WebAssembly.instantiate(A,i)}else{const n=await fetch(e),A=n.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&A.startsWith("application/wasm"))o=await WebAssembly.instantiateStreaming(n,i);else{const t=await n.arrayBuffer();o=await WebAssembly.instantiate(t,i)}}return o.instance},u=i=>E(i,"data:application/wasm;base64,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");let C,w,s=100,f=100,g,a,B,l,I={x:0,y:0,down:!1,delete:!1},r={now:0,last:0,tick:0},y="#8f00ff",Y="#444444",Q=!1,c,W=(i,e,o)=>{let n=i*s/window.innerWidth,A=e/g;C[~~A*s+~~n]=o},h=(i,e,o,n)=>{l.beginPath(),l.moveTo(i,e),l.lineTo(o,n),l.stroke()},m=()=>{r.now=new Date().getTime();let i=r.now-r.then;r.then=r.now,r.tick+=i,Q?I.down&&W(I.x,I.y,!I.delete):r.tick>=400&&(w(),r.tick=0),l.fillStyle=y,l.strokeStyle=Y,l.clearRect(0,0,window.innerWidth,window.innerHeight);{for(let e=0;e<s;e++)h(e*g,0,e*g,window.innerHeight);for(let e=0;e<f;e++)h(0,e*g,window.innerWidth,e*g)}for(let e=0;e<C.length;e++){let o=C[e],n=e%s*g,A=~~(e/s)*g;o&&l.fillRect(n,A,g,g)}};u().then(i=>{let{acceptArray:e,updateRules:o,memory:n}=i.exports;w=i.exports.runGameAlgorithm,C=new Int8Array(n.buffer,0,s*f).fill(0),c=s*f*Int8Array.BYTES_PER_ELEMENT,e(C.byteOffset,C.length),a=document.querySelector("#rules"),B=document.querySelector("#paused"),l=document.querySelector("#canvas").getContext("2d"),l.canvas.width=window.innerWidth,l.canvas.height=window.innerHeight,g=window.innerWidth/s,f=1+window.innerHeight/g,window.onscroll=A=>{},window.onkeydown=A=>{A.key=="Shift"&&(a.hidden=!a.hidden),A.key==" "&&(Q=!0,B.hidden=!1),A.key=="x"&&(I.delete=!0)},window.onkeyup=A=>{A.key==" "&&(Q=!1,B.hidden=!0),A.key=="x"&&(I.delete=!1)},a.onkeydown=A=>{if(A.code!="EnterKey")return;let t=new Int8Array(n.buffer,c,A.value.length);t.set(A.value.split("")),o(t)},window.onmousedown=window.onmouseup=A=>{I.down=A.type=="mousedown"},window.onmousemove=A=>{I.x=A.clientX,I.y=A.clientY},r.now=new Date().getTime(),r.then=r.now-1/60,setInterval(m,60)});
